## 阻塞和非阻塞IO

一、基本概念：
阻塞操作：是指在执行设备操作时，若不能获得资源，则挂起进程直到满足操作条件后再进行操作。被挂起的进程进入休眠， 被从调度器移走，直到条件满足。
非阻塞操作：在不能进行设备操作时，并不挂起，它或者放弃，或者不停地查询，直到可以进行操作。

二、两种操作
阻塞地读取一个字符：
```
char buf;
fd = open("/dev/ttyS1",O_RDWR);
.....
res = read(fd,&buf,1); 
//当串口上有输入时才返回,没有输入则进程挂起睡眠
if(res == 1)
{
    printf("%c/n",buf);
}
```

非阻塞地读一个字符：
```
char buf;
fd = open("/dev/ttyS1",O_RDWR|O_NONBLOCK);
//O_NONBLOCK 非阻塞标识
.....
while(read(fd,&buf,1)!=1);
//串口上没有输入则返回，所以循环读取
printf("%c/n",buf);
```

阻塞操作常常用等待队列来实现，而非阻塞操作用轮询的方式来实现。非阻塞I/O的操作在应用层通常会用到select()和poll()系统调用查询是否可对设备进行无阻塞访问。
